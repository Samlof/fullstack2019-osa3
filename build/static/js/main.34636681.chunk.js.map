{"version":3,"sources":["components/Persons.js","services/persons.js","App.js","index.js"],"names":["Content","props","persons","deletePerson","react_default","a","createElement","map","p","Persons_Part","key","name","person","Part","number","onClick","window","confirm","concat","id","Persons","Persons_Content","baseUrl","services_persons","axios","get","then","r","data","newObject","post","put","delete","Filter","filterName","handleNewFiltername","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","_ref","message","className","Error","_ref2","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterName","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personService","res","toFilterName","toLowerCase","personsToShow","filter","includes","App_Error","App_Notification","App_Filter","e","target","App_PersonForm","preventDefault","findIndex","oldPerson","find","newObj","objectSpread","newO","setTimeout","catch","per","error","response","console","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.34636681.chunk.js","sourcesContent":["import React from 'react'\n\nconst Content = props => {\n    const { persons, deletePerson } = props\n\n    return (\n        <div>\n            {persons.map(p => (\n                <Part deletePerson={deletePerson} key={p.name} person={p} />\n            ))}\n        </div>\n    )\n}\nconst Part = props => {\n    const { person, deletePerson } = props\n\n    const confirmBox = () => {\n        if (window.confirm(`Poistetaanko ${person.name}?`)) {\n            deletePerson(person.id)\n        }\n    }\n    return (\n        <div>\n            {person.name} {person.number}\n            <button onClick={confirmBox}>Poista</button>\n        </div>\n    )\n}\nconst Persons = props => {\n    const { persons, deletePerson } = props\n    return (\n        <div>\n            <Content deletePerson={deletePerson} persons={persons} />\n        </div>\n    )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const req = axios.get(baseUrl)\n    return req.then(r => r.data)\n}\n\nconst create = newObject => {\n    const req = axios.post(baseUrl, newObject)\n    return req.then(r => r.data)\n}\n\nconst update = (id, newObject) => {\n    const req = axios.put(`${baseUrl}/${id}`, newObject)\n    return req.then(r => r.data)\n}\nconst remove = id => {\n    return axios.delete(`${baseUrl}/${id}`).then(r => r.data)\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n}","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\n\nconst Filter = props => {\n    const { filterName, handleNewFiltername } = props\n    return (\n        <div>\n            rajaa näytettäviä\n        <input value={filterName} onChange={handleNewFiltername} />\n        </div>\n    )\n}\n\nconst PersonForm = props => {\n    const { addPerson, newName, handleNameChange, newNumber, handleNumberChange } = props\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                nimi: <input value={newName} onChange={handleNameChange} />\n            </div>\n            <div>\n                numero: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">lisää</button>\n            </div>\n        </form>\n    )\n}\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\nconst Error = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\nconst App = () => {\n    const [persons, setPersons] = useState([\n    ])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filterName, setFilterName] = useState('')\n\n    const [notificationMessage, setNotificationMessage] = useState(null)\n    const [errorMessage, setErrorMessage] = useState(null)\n\n    useEffect(() => {\n        personService.getAll().then(res => {\n            setPersons(res)\n        })\n    }, [])\n    const handleNameChange = e => {\n        setNewName(e.target.value)\n    }\n    const handleNumberChange = e => {\n        setNewNumber(e.target.value)\n    }\n    const handleNewFiltername = e => {\n        setFilterName(e.target.value)\n    }\n    const addPerson = e => {\n        e.preventDefault()\n\n        if (persons.findIndex(p => p.name === newName) > -1) {\n            const oldPerson = persons.find(p => p.name === newName)\n            if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n                const newObj = { ...oldPerson, number: newNumber }\n                personService.update(oldPerson.id, newObj).then(newO => {\n                    setPersons(persons.map(p => p.name === newO.name ? newO : p))\n                    setNewName('')\n                    setNewNumber('')\n                    setNotificationMessage(\n                        `Muutettiin ${newO.name}`\n                    )\n                    setTimeout(() => {\n                        setNotificationMessage(null)\n                    }, 5000)\n                }).catch(e => {\n                    setErrorMessage(\n                        `Henkilö ${oldPerson.name} oli jo poistettu`\n                    )\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n            }\n            return\n        }\n        const personObject = {\n            name: newName,\n            number: newNumber\n        }\n        personService.create(personObject).then(per => {\n            setPersons(persons.concat(per))\n            setNewName('')\n            setNewNumber('')\n\n            setNotificationMessage(\n                `Lisättiin ${per.name}`\n            )\n            setTimeout(() => {\n                setNotificationMessage(null)\n            }, 5000)\n        }).catch(error => {\n            const message = error.response.data.error\n            console.error(message)\n            setErrorMessage(message)\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n        })\n    }\n    const deletePerson = id => {\n        personService.remove(id).then(p => {\n            const person = persons.find(p => p.id === id)\n            setPersons(persons.filter(per => per.id !== id))\n\n            setNotificationMessage(\n                `Poistettiin ${person.name}`\n            )\n            setTimeout(() => {\n                setNotificationMessage(null)\n            }, 5000)\n        })\n    }\n    const toFilterName = filterName.toLowerCase()\n    const personsToShow = toFilterName ?\n        persons.filter(p =>\n            p.name.toLowerCase().includes(toFilterName))\n        : persons\n    return (\n        <div>\n            <h2>Puhelinluettelo</h2>\n            <Error message={errorMessage} />\n            <Notification message={notificationMessage} />\n            <Filter filterName={filterName} handleNewFiltername={handleNewFiltername} />\n            <h4>lisää uusi</h4>\n            <PersonForm\n                addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n            <h2>Numerot</h2>\n            <Persons persons={personsToShow} deletePerson={deletePerson} />\n        </div>\n    )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}